-- Create table
create table CHARGE_STATISTICS_
(
  PATIENT_DEPTID VARCHAR2(10),
  WRITE_DEPTID   VARCHAR2(10),
  EXECUTE_DEPTID VARCHAR2(10),
  DOCTORID       VARCHAR2(6),
  ATTRIBUTE      VARCHAR2(10),
  FEE_TYPE       VARCHAR2(10),
  FEE_DATE       DATE,
  FEE            NUMBER,
  REMARK         VARCHAR2(20),  
  DISCOUNT       NUMBER default 0,
  NUM            NUMBER
)
partition by RANGE (FEE_DATE)
(
    PARTITION "CHARGE_STATIS_P2001"  VALUES LESS THAN ( TO_DATE ('2002/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2002"  VALUES LESS THAN ( TO_DATE ('2003/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2003"  VALUES LESS THAN ( TO_DATE ('2004/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2004"  VALUES LESS THAN ( TO_DATE ('2005/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2005"  VALUES LESS THAN ( TO_DATE ('2006/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2006"  VALUES LESS THAN ( TO_DATE ('2007/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2007"  VALUES LESS THAN ( TO_DATE ('2008/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2008"  VALUES LESS THAN ( TO_DATE ('2009/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2009"  VALUES LESS THAN ( TO_DATE ('2010/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2010"  VALUES LESS THAN ( TO_DATE ('2011/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2011"  VALUES LESS THAN ( TO_DATE ('2012/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2012"  VALUES LESS THAN ( TO_DATE ('2013/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2013"  VALUES LESS THAN ( TO_DATE ('2014/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2014"  VALUES LESS THAN ( TO_DATE ('2015/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2015"  VALUES LESS THAN ( TO_DATE ('2016/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2016"  VALUES LESS THAN ( TO_DATE ('2017/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2017"  VALUES LESS THAN ( TO_DATE ('2018/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2018"  VALUES LESS THAN ( TO_DATE ('2019/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2019"  VALUES LESS THAN ( TO_DATE ('2020/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P,
    PARTITION "CHARGE_STATIS_P2020"  VALUES LESS THAN ( TO_DATE ('2021/01/01', 'YYYY/MM/DD')) TABLESPACE CHARGE_STATIS_P
)
;
-- Create/Recreate indexes 
create index I_CHARGE_STATISTICS_1 on CHARGE_STATISTICS_ (FEE_DATE, ATTRIBUTE, FEE_TYPE)
  tablespace HSIND
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 4M
    minextents 1
    maxextents unlimited
  );
create unique index I_PK_CHARGE_STATISTICS on CHARGE_STATISTICS_ (PATIENT_DEPTID, WRITE_DEPTID, EXECUTE_DEPTID, DOCTORID, ATTRIBUTE, FEE_TYPE, FEE_DATE)
  tablespace HSHIS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 10M
    minextents 1
    maxextents unlimited
  );
-- Grant/Revoke object privileges 
grant select on CHARGE_STATISTICS_ to HSHIS_USER;
grant select on CHARGE_STATISTICS_ to HUMAN;
