set pages 0 
set lines 100
spool log\CrtHsemr_log.log
prompt AUTHOR:ZH 2016/02/27
prompt

select name || ';' || to_char(sysdate, 'yyyy/mm/dd hh24:mi:ss') h
  from hospital.hosp;
prompt 
prompt ------START------
prompt 

show user;

PROMPT
PROMPT 创建表空间....
PROMPT



CREATE SMALLFILE TABLESPACE "HSEMR1_TAB" DATAFILE
  'D:\APP\ADMINISTRATOR\ORADATA\HIS\HSEMR1_TAB.DBF' SIZE 10M AUTOEXTEND ON NEXT 100M MAXSIZE 8001M
  LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO;

CREATE SMALLFILE TABLESPACE "HSEMR_IND1" DATAFILE
  'D:\APP\ADMINISTRATOR\ORADATA\HIS\HSEMR_IND.DBF' SIZE 10M AUTOEXTEND ON NEXT 100M MAXSIZE 8001M
  LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO;

  
ALTER TABLESPACE "HSEMR1_TAB" ADD DATAFILE
'D:\APP\ADMINISTRATOR\ORADATA\HIS\HSEMR1_TAB001.DBF' SIZE 10M AUTOEXTEND ON NEXT 100M MAXSIZE 8001M;
ALTER TABLESPACE "HSEMR1_TAB" ADD DATAFILE

PROMPT
PROMPT 创建表用户....
PROMPT

CREATE USER "HSEMR1"  PROFILE "DEFAULT" IDENTIFIED BY "HSEMR1" DEFAULT TABLESPACE "HSEMR1_TAB" TEMPORARY TABLESPACE "TEMP" ACCOUNT UNLOCK;
GRANT "CONNECT" TO "HSEMR1"  ;
GRANT "RESOURCE" TO "HSEMR1"  ;
GRANT CREATE SESSION TO "HSEMR1"  ;
GRANT CREATE SYNONYM TO "HSEMR1"  ;
GRANT CREATE TABLE TO "HSEMR1"  ;
GRANT CREATE TABLESPACE TO "HSEMR1"  ;
GRANT CREATE TRIGGER TO "HSEMR1"  ;
GRANT CREATE TYPE TO "HSEMR1"  ;
GRANT CREATE VIEW TO "HSEMR1"  ;
GRANT CREATE SEQUENCE TO "HSEMR1"  ;
GRANT "HSHIS_USER" TO "HSEMR1"  ;
grant dba to "HSEMR1";


prompt ------END------

select 'ZH_hint:' || to_char(sysdate, 'yyyy/mm/dd hh24:mi:ss') d from dual;
spool off

